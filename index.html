<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webengine | Compra, venda e troque carros usados, novos ou seminovos</title>
    <link rel="stylesheet" href="src/css/main-page.css">
    <link rel="shortcut icon" href="./src/images/icons/letter-w.png" type="image/x-icon">
</head>
<body>

    <header>
        <nav>
            <div id="logo-container">
                <img src="./src/images/icons/letter-w.png" alt="">
                <a href="./index.html" class="logo">
                    <h1>WebEngine</h1>
                </a>
            </div>
            <ul>
                <li>
                    <a href="#">Comprar</a>
                    <ul class="dropdown">
                        <li><a href="#"><img src="./src/images/icons/electric-car.png" alt="new-car-icon" class="vehicle-icons">Carros novos</a></li>
                        <li><a href="#"><img src="./src/images/icons/auto.png" alt="used-car-icon" class="vehicle-icons"> Carros usados</a></li>
                        <li><a href="#"><img src="./src/images/icons/motorcycle_10590636.png" alt="motocycle-new-icon" class="vehicle-icons">Motos novas</a></li>
                        <li><a href="#"><img src="./src/images/icons/motocycle.png" alt="motocycle-used-icon" class="vehicle-icons">Motos usadas</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Vender</a>
                    <ul class="dropdown">
                        <li><a href="#"><img src="./src/images/icons/electric-car.png" alt="new-car-icon" class="vehicle-icons">Vender carro</a></li>
                        <li><a href="#"><img src="./src/images/icons/motorcycle_10590636.png" alt="new-motocycle-icon" class="vehicle-icons">Vender moto</a></li>
                        <li><a href="#"><img src="./src/images/icons/administrator_7850479.png" alt="manager-icon" class="vehicle-icons">Gerenciar meu anúncio</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Notícias</a>
                    <ul class="dropdown">
                        <li><a href="#"><img src="./src/images/icons/video.png" alt="videos-icon" class="vehicle-icons">Vídeos</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Serviços</a>
                    <ul class="dropdown">
                        <li><a href="#"><img src="./src/images/icons/dollar_940932.png" alt="consortium-icon" class="vehicle-icons">Consórcio</a></li>
                        <li><a href="#"><img src="./src/images/icons/money_18863945.png" alt="financing-icon" class="vehicle-icons">Financiamento</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Ajuda</a>
                    <ul class="dropdown">
                        <li><a href="#"><img src="./src/images/icons/user 2.png" alt="user-2-icon" class="vehicle-icons">Para você</a></li>
                        <li><a href="#"><img src="./src/images/icons/group_727373.png" alt="company-icon" class="vehicle-icons">Para sua empresa</a></li>
                    </ul>
                </li>
            </ul>
            <div class="login-div">
                <img src="src/images/icons/user.png" alt="">
                <p><a href="#">Entrar</a></p>
            </div>
        </nav>
    </header>

    <main>
        <div class="slider">

        </div>

        <section class="search-input-container">
            <div>
                <img src="src/images/icons/search-interface-symbol.png" alt="">
                <input type="text" name="Search" id="search" placeholder="Digite um modelo ou marca do veículo">
            </div>
            <button>VER OFERTAS</button>
        </section>

        <section class="vehicles-container">
            <article class="sponsored">  
                <h2>Patrocinados</h2>
                <div class="card-car">
                    <ul></ul>
                </div>
            </article>
            <article class="categories">
                <h2>Categorias</h2>
                <div class="card-car">
                    <ul></ul>
                </div>
            </article>
            <article class="popular-brands">
                <h2>Populares</h2>
                <div class="card-car">
                    <ul></ul>
                </div>
            </article>
        </section>
    </main>

    <footer>
        <section class="shortcuts">
            <h2>Atalhos</h2>
            <ul>
                <li><a href="">Comprar</a></li>
                <li><a href="">Vender</a></li>
                <li><a href="">Ajuda</a></li>
                <li><a href="">Contato</a></li>
            </ul>
        </section>

        <section class="schedule">
            <h2>Horários</h2>
            <p>Segunda a Sexta: 9h às 19h</p>
        </section>

        <section class="contact">
            <h2>Contato</h2>
            <p>(33) 999026628</p>
        </section>

        <section class="social-media">
            <h2>Redes Sociais</h2>
            <ul>
                <li><a href="https://www.linkedin.com/in/murilo-freitas-de-souza-67a01b2bb/" target="_blank"><img src="src/images/icons/linkedin.svg" alt="linkedin-icon"></a></li>
                <li><a href="https://github.com/murilofsouzaa" target="_blank"><img src="src/images/icons/github.svg" alt="github-icon"></a></li>
                <li><a href="https://www.instagram.com/murilofsouza_/" target="_blank"><img src="src/images/icons/instagram.svg" alt="instagram-icon"></a></li>
            </ul>
        </section>
    </footer>
</body>
</html>

<script>
    async function fetchData() {
        const res = await fetch(`http://localhost:3000/carros`);
        const data = await res.json();
        return data;
    }

    async function setupSponsorCars() {
        const data = await fetchData();

        const cardContainers = document.querySelectorAll('.card-car > ul');

        const selectedCars = data;

        selectedCars.forEach((carBrand, index) => {
            const model = carBrand.models[0];
            const generation = model.generations[0];
            const imageUrl = generation.images[0].big;

            const li = document.createElement('li');
            const img = document.createElement('img');
            img.src = imageUrl;
            img.alt = `${carBrand.name} ${model.name}`;
            img.classList.add('car-img');
            img.style.width = '260px';

            li.appendChild(img);

            cardContainers[index].appendChild(li);
        });
    }

    setupSponsorCars();
</script>